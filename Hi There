using System;

namespace Program
{
    class Program
    {
        static bool IsAllowed(int age)
        {
            return age >= 18; // Assuming the minimum age for access is 18
        }
        
        static bool IsMale(string gender)
        {
            return gender == "Male";
        }

        static void Main(string[] args)
        {
            Console.WriteLine("Hi there!!");
            Console.WriteLine("What's your name?");
            Console.Write("Name: ");

            string name = Console.ReadLine();
            
            Console.WriteLine();

            Console.WriteLine(name + ", huh? that's a nice name.");
            Console.WriteLine("Next question. How old are you?");
            Console.Write("Age: ");

            string userInput = Console.ReadLine();
            int age = 0;

            try
            {
                age = Convert.ToInt32(userInput);
            }
            catch (FormatException)
            {
                Console.WriteLine("Invalid input. Please enter a valid integer age.");
                return;
            }
            catch (OverflowException)
            {
                Console.WriteLine("Invalid input. Please enter a valid integer age within the valid range.");
                return;
            }

            if (IsAllowed(age))
            {
                Console.WriteLine("I see. Welcome.");
                Console.WriteLine("Are you a boy or a girl?");
                
                string gender = Console.ReadLine();
                
                bool isMale = IsMale(gender);
            
                if(isMale)
                {
                    Console.WriteLine("Got it. You're a boy. I'll keep that in mind.");
                }
                else
                {
                    Console.WriteLine("Got it. You're a girl. I'll keep that in mind.");
                }
            }
            else
            {
                Console.WriteLine("Sorry, you are not allowed access.");
            }
        }
    }
}
